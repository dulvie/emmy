.form-inline
  = link_to "#{t(:create)} #{t(:customer)}", new_customer_path, class: 'btn btn-default'

  .input-group.col-sm-8
    %input{:class=> 'form-control', :placeholder=>t(:name_search), :ng_model=>'searchname', :id => 'search'}
    .input-group-addon
      %a{:href => name_search_customers_path + "&name={{searchname}}", :id => 'search_link'}
        %i{ :class=>"glyphicon glyphicon-search search_icon"}

  .input-group.col-sm-8
    = form_tag city_search_customers_path(), method: :get do
      .input-group
        = text_field_tag('city_name','', placeholder: t(:city_search), class: 'form-control')
        .span.input-group-btn
          = button_tag(search_icon, class: 'btn btn-default')

%div{:ng_controller=>'ModalCtrl'}
  %table{:class => 'table table-striped'}
    %thead
      %tr
        %th= t(:customer)
        %th= t(:address)
        %th= t(:zip)
        %th= t(:city)
        %th
        %th
    %tbody{}
      - @customers.each do |customer|
        %tr
          %td= link_to customer.name, customer
          %td= customer.address
          %td= customer.zip
          %td= customer.city
          %td= link_to settings_icon, customer_path(customer)
          %td= delete_modal_for customer

  = paginate @customers, :theme => 'twitter-bootstrap-3'
  = render partial: 'shared/modal_delete', locals: {idx: 'deleteContent'}

:javascript
  $(document).ready(function() {
  localStorage.removeItem('lastTab');
  $('#search').bind('keypress', function(e) {
    var code = e.keyCode || e.which;
    if(code == 13) { //Enter keycode
      $('#search_link')[0].click();
    }
  });
  });
